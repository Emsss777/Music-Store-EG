<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
          rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" th:href="@{/css/common.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/home.css}">
    <title>Music Store - Home</title>
</head>

<body>

<th:block th:replace="~{fragments/header :: site-header}"></th:block>

<main>
    <div class="hero-section">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">Discover Your Next Favorite Song</h1>
                <p class="hero-subtitle">Explore thousands of albums and singles from your favorite artists</p>
                <div class="hero-actions">
                    <a class="button primary" th:href="@{/catalog}">Browse Catalog</a>
                    <a class="button" th:href="@{/register}" sec:authorize="isAnonymous()">Join Now</a>
                </div>
            </div>
        </div>
    </div>

    <section class="featured-section">
        <div class="container">
            <h2 class="section-title">Featured Albums</h2>
            <div class="album-grid grid grid-4">
                <div class="album-card card" th:each="album : ${albums}">
                    <div class="album-image">
                        <img th:src="${album.coverUrl}" th:alt="${album.title}">
                        <div class="album-overlay light">
                            <button class="play-button">â–¶</button>
                        </div>
                    </div>
                    <div class="album-info">
                        <h3 class="album-title" th:text="${album.title}"></h3>
                        <p class="album-artist" th:text="${album.artist.artistName}"></p>
                        <div class="album-price">
                            <span class="price" th:text="'$' + ${#numbers.formatDecimal(album.price, 1, 2)}"></span>
                        </div>
                        <a th:href="@{'/album/' + ${album.id}}" class="button primary">View Details</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="categories-section">
        <div class="container">
            <h2 class="section-title">Browse by Genre</h2>
            <div class="category-grid grid grid-4">
                <div class="category-card card" th:each="genre : ${genres}">
                    <div class="category-icon" th:switch="${genre}">
                        <span th:case="POP">ðŸŽµ</span>
                        <span th:case="ROCK">ðŸŽ¸</span>
                        <span th:case="ELECTRONIC">ðŸŽ¹</span>
                        <span th:case="CLASSICAL">ðŸŽº</span>
                        <span th:case="HIP_HOP">ðŸŽ¤</span>
                        <span th:case="METAL">âš¡</span>
                        <span th:case="*">ðŸŽ¶</span>
                    </div>
                    <h3 th:text="${#strings.capitalize(#strings.toLowerCase(genre))}"></h3>
                    <p th:text="${'Discover ' + #strings.toLowerCase(genre) + ' music and artists'}"></p>
                    <a th:href="@{'/catalog?genre=' + ${genre}}" class="button">Explore</a>
                </div>
            </div>
        </div>
    </section>
</main>

<th:block th:replace="~{fragments/footer :: site-footer}"></th:block>

</body>

</html>
